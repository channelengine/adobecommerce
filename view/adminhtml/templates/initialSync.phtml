<?php

/** @var InitialSync $block */

use ChannelEngine\ChannelEngineIntegration\Block\Adminhtml\Content\Dashboard;
use ChannelEngine\ChannelEngineIntegration\Block\Adminhtml\Content\InitialSync;

?>
<div id="ce-loader">
    <?=  $block->getLayout()->createBlock(InitialSync::class)
        ->setTemplate("ChannelEngine_ChannelEngineIntegration::loader.phtml")->toHtml();
    ?>
</div>
<div class="channel-engine">
    <main>
        <div class="ce-onboarding">
            <div class="ce-onboarding-steps">
                <div class="ce-step active">
                    <div class="ce-step-number">1</div>
                    <div class="ce-step-title"><?= __('Account'); ?></div>
                </div>
                <div class="ce-step active">
                    <a href="<?= $block->getProductSyncPageUrl(); ?>">
                        <div class="ce-step-number">2</div>
                    </a>
                    <div class="ce-step-title"><?= __('Product synchronization'); ?></div>
                </div>
                <div class="ce-step active">
                    <a href="<?= $block->getOrderSyncPageUrl(); ?>">
                        <div class="ce-step-number">3</div>
                    </a>
                    <div class="ce-step-title"><?= __('Order synchronization'); ?></div>
                </div>
                <div class="ce-step active">
                    <div class="ce-step-number">4</div>
                    <div class="ce-step-title"><?= __('Initial sync'); ?></div>
                </div>
            </div>
            <h1><?= __('You are just one step away'); ?></h1>
            <h2><?= __('Integration status'); ?></h2>
            <div class="ce-input-group ce-wide-group">
                <label>
                    <span class="label ce-big-label"><?= __('Enable the integration and start the initial synchronization'); ?></span>
                    <span class="ce-help">
                        <span class="ce-help-tooltip">
                            <?= __('By enabling integration, it will trigger the initial synchronization in the background. The integration will synchronize all published shop products to ChannelEngine in the background. Also, the integration will synchronize new and closed orders (fulfilled by the merchant and fulfilled by the marketplace) from ChannelEngine into the shop.'); ?>
                        </span>
                    </span>
                    <a id="ceStartSync"
                       class="ce-button ce-button__primary"><?= __('Enable and start sync'); ?></a>
                    <input id="ceInitialSyncUrl" type="hidden"
                           value="<?= $block->getInitialSyncUrl(); ?>">
                </label>
            </div>
        </div>
        <div id="ce-modal-initial-sync" class="ce-hidden">
            <?=  $block->getLayout()->createBlock(Dashboard::class)
                ->setTemplate("ChannelEngine_ChannelEngineIntegration::partials/modal.phtml")->toHtml();
            ?>
        </div>
        <input type="hidden" id="ce-state-url" value="<?= $block->getStateUrl() ?>">
        <input type="hidden" id="ce-store-id" value="<?= $block->getStoreId() ?>">
    </main>
</div>
